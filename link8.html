<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Chronicle of x86: An Instruction Set Story</title>
    <!-- Importing Space Mono font for a technical/retro aesthetic -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* Light theme default */
        body {
            font-family: 'Space Mono', monospace;
            background-color: #f0f0f0;
            color: #111;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        /* --- Dark Theme Overrides --- */
        body.dark-theme {
            background-color: #1a1a2e; /* Deep blue/purple */
            color: #e0f7fa; /* Light cyan */
        }
        /* Container for the main content */
        .container {
            flex-grow: 1;
            padding: clamp(30px, 5vw, 50px);
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
            position: relative;
        }
        /* --- Main Text Section --- */
        .main-content h1 {
            font-family: 'Space Mono', monospace;
            font-size: clamp(2.5rem, 8vw, 6rem);
            line-height: 1;
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 5px;
            color: #333;
        }
        body.dark-theme .main-content h1 {
            color: #79a6fe;
            text-shadow: 0 0 5px rgba(121, 166, 254, 0.5);
        }
        /* --- Story Section Styles --- */
        .story-content {
            margin-top: clamp(40px, 8vw, 80px);
            padding-top: clamp(20px, 4vw, 40px);
            border-top: 1px solid #ccc;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: clamp(15px, 4vw, 30px);
        }
        body.dark-theme .story-content {
            border-top: 1px solid #334e68;
        }
        .story-content p { line-height: 1.6; max-width: 900px; }
        .story-content h2, .story-content h3 { font-weight: 700; text-transform: uppercase; color: #333; }
        body.dark-theme .story-content h2, body.dark-theme .story-content h3 { color: #b3ccff; }
        .story-content h2 { font-size: clamp(1.4rem, 4vw, 2rem); letter-spacing: 2px; margin-top: 2rem; }
        .story-content h3 { font-size: clamp(1rem, 2vw, 1.2rem); margin-top: 1rem; margin-bottom: 0.5rem; }
        
        .story-content ul {
            list-style: none;
            padding-left: 20px;
        }
        .story-content li {
            position: relative;
            margin-bottom: 10px;
            padding-left: 15px;
        }
        .story-content li::before {
            content: "//";
            position: absolute;
            left: 0;
            color: #ff5757; /* Red accent */
            font-weight: 700;
        }
        body.dark-theme .story-content li::before {
            color: #a9f0a9; /* Green accent */
        }

        pre { 
            background-color: #e5e7eb; 
            padding: 1.5rem; 
            border-radius: 0.5rem; 
            overflow-x: auto; 
            white-space: pre-wrap; 
            word-wrap: break-word; 
            width: 100%; 
            box-sizing: border-box; 
            border: 1px solid #ddd; 
        }
        /* Black background for code in dark mode */
        body.dark-theme pre {
            background-color: #000000; 
            border: 1px solid #334e68;
        }
        pre code { font-size: 0.9rem; color: #008080; }
        body.dark-theme pre code { color: #a9f0a9; }
        
        /* Visualization Area */
        .viz-container {
            width: 100%;
            max-width: 800px;
            height: 400px;
            margin: 40px auto;
            border: 2px solid #ff5757;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(255, 87, 87, 0.5);
            background-color: #ffffff;
            position: relative;
        }
        body.dark-theme .viz-container {
            border: 2px solid #79a6fe;
            box-shadow: 0 0 20px rgba(121, 166, 254, 0.5);
            background-color: #0f0f1a;
        }
        .viz-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .viz-container figcaption {
            padding: 10px;
            font-size: 0.8rem;
            text-align: center;
            background-color: rgba(220, 220, 220, 0.8);
            color: #333;
            position: absolute;
            bottom: 0;
            width: 100%;
        }
        body.dark-theme .viz-container figcaption {
            background-color: rgba(0, 0, 0, 0.3);
            color: #b3ccff;
        }
        /* --- Footer and Theme Toggle --- */
        footer {
            margin-top: auto;
            padding: 30px clamp(30px, 5vw, 50px);
            border-top: 1px solid #ccc;
            color: #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        body.dark-theme footer {
            border-top: 1px solid #334e68;
            color: #b3ccff;
        }
        .theme-toggle-button {
            background: none; border: 1px solid #111; color: #111; padding: 8px 16px;
            font-family: 'Space Mono', monospace; font-size: 0.9rem; cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease; border-radius: 5px;
            display: flex; align-items: center; gap: 8px; text-transform: uppercase;
        }
        .theme-toggle-button:hover { background-color: #111; color: #f0f0f0; }
        body.dark-theme .theme-toggle-button {
            border: 1px solid #f0f0f0;
            color: #f0f0f0;
        }
        body.dark-theme .theme-toggle-button:hover {
            background-color: #f0f0f0;
            color: #111;
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            .container { padding: 20px; text-align: left; }
            .main-content h1 { letter-spacing: 2px; font-size: 2.5rem; }
            .viz-container { height: 300px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main title area -->
        <div class="main-content">
            <h1>Core architecture of x86 assembly set</h1>
            <p>A history of the Instruction Set Architecture that defined modern computing.</p>
        </div>

        <!-- Visualization Area -->
        <div class="viz-container">
            <img id="animation-display"
                 src="circuit.gif"
                 alt="Conceptual rendering of a high-speed Xlinado circuit simulation, showing voltage spikes and current paths."
                 onerror="this.onerror=null; this.src='https://placehold.co/800x400/3c096f/ffffff?text=Xlinado+Circuit+Simulation+Visual';"/>
            <figcaption>Conceptual transient simulation of a complex electronic network, illustrating the logic and data flow that x86 architecture enables.</figcaption>
        </div>
        <!-- End Visualization -->

        <!-- Story Content -->
        <main class="story-content">
            <h2 id="part-i">Part I: The Genesis (16-bit Architecture)</h2>
            <p>
                My story begins in 1978, in a world dominated by 8-bit simplicity. I was born the **8086**, a set of digital instructions designed for a new 16-bit era. My memory was segmented, a complex but necessary way to reach a full megabyte of address space—a monumental feat at the time. My instructions were a collection of verbs: **`MOV`** (move data), **`ADD`** (add numbers), and **`JMP`** (jump to a new location). I was the foundation, the language that whispered life into the very first IBM Personal Computer, cementing my presence in history.
            </p>
            <p>
                Soon after, my sibling, the **80286**, arrived. I gained *Protected Mode*. This was a monumental change—a boundary that allowed operating systems to manage memory safely, preventing one errant program from crashing the entire machine. I could now address 16 MB of RAM!
            </p>

            <h3 id="assembly-example">Assembly Language Example (The Verbs)</h3>
            <p>
                At its core, the x86 ISA speaks in verbs that directly manipulate registers and memory. This snippet demonstrates a fundamental operation in 32-bit (IA-32) assembly.
            </p>
            <pre class="code-snippet"><code class="language-asm">
// Conceptual 32-bit x86 Assembly (IA-32)
.data
    source_val DWORD 100 // Define a 32-bit integer variable in memory
    dest_val   DWORD 0
.code
    MOV EAX, [source_val] // Move the value 100 from memory into the EAX register
    ADD EAX, 5            // Add the immediate value 5 to the EAX register (EAX = 105)
    MOV [dest_val], EAX   // Move the result (105) from EAX back to memory
    RET                   // Return from the procedure
// EAX, the Accumulator, is one of the core 32-bit registers introduced by the 80386.
            </code></pre>

            <h2 id="part-ii">Part II: The 32-bit Leap (IA-32)</h2>
            <p>
                The real revolution came with the **80386** in 1985. I was reborn as a 32-bit citizen. This jump was transformative:
            </p>
            <ul>
                <li><strong>Flat Memory Model:</strong> The clumsy segmented memory of the past was largely retired, replaced by a clean, simple, 4 GB flat address space.</li>
                <li><strong>Virtual 8086 Mode:</strong> I could now run my ancestors' 8086 programs safely within a protected 32-bit operating system, ensuring backward compatibility—a feature that became my defining strength.</li>
                <li><strong>New Instructions:</strong> My vocabulary expanded to include 32-bit registers and new instructions to manage this greater bandwidth.</li>
            </ul>
            <p>
                I, the x86 Instruction Set Architecture (ISA), was now known as **IA-32** (Intel Architecture, 32-bit), and I ruled the desktop. The **80486** solidified this foundation by integrating the Floating Point Unit (FPU) onto the same chip, making calculations blisteringly fast.
            </p>

            <h2 id="part-iii">Part III: Multimedia and Parallelism (The Rise of SIMD)</h2>
            <p>
                As the 1990s progressed, my focus shifted from raw processing to media and communication. The need to process massive amounts of pixel and audio data efficiently led to the development of Single Instruction, Multiple Data (SIMD) extensions:
            </p>
            <ul>
                <li><strong>MMX (MultiMedia eXtensions):</strong> My first taste of parallel data processing. MMX allowed a single instruction to operate on multiple pieces of small data (e.g., 8-bit color channels) simultaneously.</li>
                <li><strong>SSE (Streaming SIMD Extensions):</strong> This was a major upgrade. With SSE, I gained 128-bit dedicated registers, vastly improving graphics and video processing. This family of extensions (SSE, SSE2, SSE3, etc.) became crucial for modern gaming, physics, and scientific computing, allowing me to perform the same operation on four 32-bit floating-point numbers at once.</li>
            </ul>

            <h2 id="part-iv">Part IV: The 64-bit Expansion (x86-64)</h2>
            <p>
                My greatest existential challenge came in the early 2000s. The 32-bit address space was running out of room for enterprise servers and large databases. It was AMD, not Intel, who delivered the next generational leap, creating the **x86-64** (or AMD64) extension:
            </p>
            <ul>
                <li><strong>Vast Address Space:</strong> The address space expanded from 4 GB to a potential 16 exabytes (though limited in practice), finally giving server farms and massive applications the memory they needed.</li>
                <li><strong>New Registers:</strong> I gained eight new 64-bit general-purpose registers (<strong>`R8`</strong> through <strong>`R15`</strong>), streamlining complex code and improving performance.</li>
            </ul>
            <p>
                This was my second rebirth, ensuring my continued dominance not just on the desktop, but across the entire datacenter. Intel quickly adopted this extension, solidifying x86-64 as the universal modern standard.
            </p>

            <h2 id="part-v">Part V: Vectorization and the Future</h2>
            <p>
                Today, my evolution continues at a rapid pace through massive vector units:
            </p>
            <ul>
                <li><strong>AVX (Advanced Vector Extensions):</strong> I now wield 256-bit registers (AVX) and even 512-bit registers (AVX-512). This latest generation of instructions allows me to simultaneously process 16 separate single-precision floating-point numbers, accelerating deep learning, financial modeling, and the most demanding HPC applications.</li>
            </ul>
            <p>
                I, the x86 Instruction Set, am a monument to **backward compatibility**. My newest extensions can still run the simplest `MOV` instruction from my 8086 youth. I am the digital language of continuity, the complex, constantly evolving foundation that powers nearly every personal computer and most cloud infrastructure on Earth. I was born pragmatic, and through a relentless series of expansions, I have become the unexpected, enduring monarch of the digital realm.
            </p>
        </main>
    </div>

    <footer>
        <p>© 2025 Instruction Set Archives. All Rights Reserved.</p>
        <button class="theme-toggle-button" onclick="toggleTheme()">
            <span id="theme-icon">☾</span> 
            <span id="theme-text">Dark Mode</span>
        </button>
    </footer>

    <script>
        // Check for saved theme preference on load
        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('theme') === 'dark') {
                document.body.classList.add('dark-theme');
                updateThemeToggle(true);
            } else {
                updateThemeToggle(false);
            }
        });

        // Function to update the toggle button text and icon
        function updateThemeToggle(isDark) {
            const icon = document.getElementById('theme-icon');
            const text = document.getElementById('theme-text');
            if (isDark) {
                icon.textContent = '☀️';
                text.textContent = 'Light Mode';
            } else {
                icon.textContent = '☾';
                text.textContent = 'Dark Mode';
            }
        }

        // Function to toggle between light and dark themes
        function toggleTheme() {
            const isDark = document.body.classList.toggle('dark-theme');
            if (isDark) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
            updateThemeToggle(isDark);
        }
    </script>
</body>
</html>